(function(t){function e(e){for(var s,r,a=e[0],c=e[1],l=e[2],p=0,d=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},o={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},3298:function(t,e,n){"use strict";n("554f")},"458f":function(t,e,n){},"554f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("auth",{attrs:{show:!t.isAuthenticated&&t.isConnected},on:{submit:t.sendAuth}}),n("div",{attrs:{id:"console"}},[n("ul",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!1},expression:"{always: false, smooth: false}"}],staticClass:"output-log"},[n("li",{staticClass:"beginning"},[t._v("Beginning of Log")]),t._l(t.messages,(function(e){return n("li",{staticClass:"message"},[t.settings.colors&&e.spans?n("pre",{class:{wrap:t.settings.wordWrap}},t._l(e.spans,(function(e){return n("span",{style:e.style},[t._v(t._s(e.text))])})),0):n("pre",{class:{wrap:t.settings.wordWrap}},[t._v(t._s(e.content))])])}))],2),n("div",{attrs:{id:"bottom"}},[n("input",{staticClass:"command-input",attrs:{type:"text",autofocus:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:t.input},on:{input:function(e){t.input=e.target.value},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.send(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.historyUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.historyDown(e))}]}}),n("div",{attrs:{id:"options-container"}},[t.showOptions?n("div",{attrs:{id:"options"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{id:"nickname",type:"text",placeholder:"nickname"},domProps:{value:t.nickname},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.setNickname(e))},input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),n("div",{staticClass:"option"},[n("label",{staticClass:"check",attrs:{for:"chk-colors"}},[t._v("ANSI Colors"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.colors,expression:"settings.colors"}],attrs:{id:"chk-colors",type:"checkbox"},domProps:{checked:Array.isArray(t.settings.colors)?t._i(t.settings.colors,null)>-1:t.settings.colors},on:{change:function(e){var n=t.settings.colors,s=e.target,o=!!s.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);s.checked?r<0&&t.$set(t.settings,"colors",n.concat([i])):r>-1&&t.$set(t.settings,"colors",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.settings,"colors",o)}}})])]),n("div",{staticClass:"option"},[n("label",{staticClass:"check",attrs:{for:"chk-wrap"}},[t._v("Wrap Lines"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.wordWrap,expression:"settings.wordWrap"}],attrs:{id:"chk-wrap",type:"checkbox"},domProps:{checked:Array.isArray(t.settings.wordWrap)?t._i(t.settings.wordWrap,null)>-1:t.settings.wordWrap},on:{change:function(e){var n=t.settings.wordWrap,s=e.target,o=!!s.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);s.checked?r<0&&t.$set(t.settings,"wordWrap",n.concat([i])):r>-1&&t.$set(t.settings,"wordWrap",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.settings,"wordWrap",o)}}})])]),n("button",{attrs:{id:"logout"},on:{click:t.logOut}},[t._v("Log Out")])]):t._e(),n("button",{staticClass:"material-icons",attrs:{id:"options-button"},on:{click:function(e){t.showOptions=!t.showOptions}}},[t._v("settings")])])])])],1)},i=[],r=(n("99af"),n("4fad"),n("3835")),a=(n("96cf"),n("1da1")),c=n("b85c"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.show?n("div",{staticClass:"auth-container"},[n("div",{staticClass:"auth-form"},[n("p",{staticStyle:{"margin-top":"0"}},[t._v("Password Required")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",autofocus:""},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submit(e))},input:function(e){e.target.composing||(t.password=e.target.value)}}})])]):t._e()])},u=[],p={data:function(){return{password:""}},props:{show:{type:Boolean}},methods:{submit:function(){this.$emit("submit",this.password),this.password=""}}},d=p,h=(n("3298"),n("2877")),f=Object(h["a"])(d,l,u,!1,null,null,null),m=f.exports,g=n("8055"),v=n("f7fe"),y=n.n(v),k=n("0c84"),w=k.parse,b=k.strip;function O(t){var e,n=w(t.content),s=[],o=Object(c["a"])(n.spans);try{for(o.s();!(e=o.n()).done;){var i=e.value;s.push({style:i.css,text:b(i.text)})}}catch(r){o.e(r)}finally{o.f()}s.length>0&&(t.spans=s),t.content=b(t.content)}var _={name:"console",components:{Auth:m},data:function(){return{input:"",nickname:"",settings:{wordWrap:!0,colors:!0},messages:[],history:[],historyPosition:0,isAuthenticated:!0,isConnected:!1,isAlive:!1,messageLimit:0,lastPassword:"",socket:null,messageClass:["plain","error","command","info","stderr"],showOptions:!1}},methods:{sendAuth:function(t){console.log("Sending auth..."),this.socket.emit("auth",t),this.lastPassword=t},send:function(){this.socket.emit("command",this.input),this.history.push(this.input),this.input=""},historyUp:function(){this.historyPosition>0&&(this.historyPosition--,this.input=this.history[this.historyPosition])},historyDown:function(){this.historyPosition<this.history.length-1?(this.historyPosition++,this.input=this.history[this.historyPosition]):this.historyPosition===this.history.length-1&&(this.historyPosition++,this.input="")},statusChange:function(){var t=document.querySelector("link[rel*='icon']"),e="favicon";this.isConnected&&this.isAuthenticated&&(e="connected",this.isAlive||(e="stopped")),t.href="".concat(e,".ico")},setNickname:function(){this.isConnected&&this.socket.emit("nickname",this.nickname)},logOut:function(){localStorage.clear(),location.reload()}},watch:{history:function(){this.historyPosition=this.history.length},isConnected:function(){this.statusChange()},isAuthenticated:function(){this.statusChange()},isAlive:function(){this.statusChange()},nickname:y()((function(){this.setNickname(),localStorage.setItem("nickname",this.nickname)}),500),settings:{handler:function(){localStorage.setItem("settings",JSON.stringify(this.settings))},deep:!0}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$nextTick((function(){var e=localStorage.getItem("settings");e&&(t.settings=JSON.parse(e)),t.nickname=localStorage.getItem("nickname")||"",t.socket&&t.socket.removeAllListeners();var n=window.webpackHotUpdate?8999:location.port;t.socket=g("".concat(location.hostname,":").concat(n)),t.socket.on("message",(function(e){t.messageLimit>0&&t.messages.length===t.messageLimit&&t.messages.shift(),O(e),t.messages.push(e)})),t.socket.on("authsuccess",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Authentication success!"),localStorage.setItem("password",t.lastPassword),t.isAuthenticated=!0,t.setNickname();case 4:case"end":return e.stop()}}),e)})))),t.socket.on("authfail",(function(){console.log("Authentication failed!"),localStorage.removeItem("password"),t.isAuthenticated=!1})),t.socket.on("authrequest",(function(){console.log("Reauthenticating..."),t.sendAuth(localStorage.getItem("password"))})),t.socket.on("connect",(function(){console.log("Connected!"),t.isConnected=!0})),t.socket.on("disconnect",(function(){console.log("Disconnected!"),t.isConnected=!1})),t.socket.on("serverstate",(function(e){for(var n=0,s=Object.entries(e);n<s.length;n++){var o=Object(r["a"])(s[n],2),i=o[0],a=o[1];t[i]=a}var l,u=Object(c["a"])(t.messages);try{for(u.s();!(l=u.n()).done;){var p=l.value;O(p)}}catch(d){u.e(d)}finally{u.f()}})),localStorage.getItem("password")?t.sendAuth(localStorage.getItem("password")):t.isAuthenticated=!1}));case 1:case"end":return e.stop()}}),e)})))()}},C=_,A=(n("5c0b"),Object(h["a"])(C,o,i,!1,null,null,null)),x=A.exports,P=n("123d"),S=n.n(P);s["a"].config.productionTip=!1,s["a"].use(S.a),new s["a"]({render:function(t){return t(x)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("458f")}});
//# sourceMappingURL=app.95f70f3e.js.map